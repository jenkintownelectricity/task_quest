import type { Task, TaskEdge, Routine, AuditEntry, UserPreferences } from '../types/kernel';

const now = new Date();
const today = now.toISOString().split('T')[0];

function daysAgo(n: number): string {
  const d = new Date(now);
  d.setDate(d.getDate() - n);
  return d.toISOString().split('T')[0];
}

function daysFromNow(n: number): string {
  const d = new Date(now);
  d.setDate(d.getDate() + n);
  return d.toISOString().split('T')[0];
}

function makeMeta(id: string, type: string = 'task'): Task['$lds'] {
  return {
    v: '1.0.0',
    type: `kernel.${type}`,
    id,
    created: new Date(now.getTime() - Math.random() * 7 * 86400000).toISOString(),
    updated: now.toISOString(),
    content_hash: '',
  };
}

// 30 realistic personal tasks
export const seedTasks: Task[] = [
  // Active daily tasks
  {
    $lds: makeMeta('task_morning_meds'),
    title: 'Take morning medication',
    description: 'ADHD meds + vitamin D supplement',
    status: 'pending',
    energy: 'low',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Get water glass', completed: false },
      { id: 'ms2', text: 'Take meds from drawer', completed: false },
      { id: 'ms3', text: 'Take with food', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['health', 'daily'],
    recurring: { frequency: 'daily', time: '08:00' },
    completed_at: null,
    created_at: daysAgo(30),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_check_email'),
    title: 'Process inbox to zero',
    description: 'Triage email — respond, archive, or defer. Max 20 minutes.',
    status: 'pending',
    energy: 'medium',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Open email client', completed: false },
      { id: 'ms2', text: 'Archive anything non-actionable', completed: false },
      { id: 'ms3', text: 'Reply to quick ones (< 2 min)', completed: false },
      { id: 'ms4', text: 'Star items needing deeper work', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['work', 'daily'],
    recurring: { frequency: 'weekdays', time: '09:00' },
    completed_at: null,
    created_at: daysAgo(14),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_morning_walk'),
    title: 'Morning walk (15 min)',
    description: 'Walk around the block before starting work. Fresh air helps focus.',
    status: 'pending',
    energy: 'low',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Put on shoes', completed: false },
      { id: 'ms2', text: 'Step outside', completed: false },
      { id: 'ms3', text: 'Walk for 15 minutes', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['health', 'daily'],
    recurring: { frequency: 'daily', time: '07:30' },
    completed_at: null,
    created_at: daysAgo(21),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_project_report'),
    title: 'Write Q1 project report',
    description: 'Summarize project milestones, metrics, and next steps for Q1 review.',
    status: 'active',
    energy: 'high',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Gather metrics from dashboard', completed: true },
      { id: 'ms2', text: 'Write executive summary', completed: false },
      { id: 'ms3', text: 'Add milestone timeline', completed: false },
      { id: 'ms4', text: 'Draft next steps section', completed: false },
      { id: 'ms5', text: 'Review and polish', completed: false },
    ],
    due_date: daysFromNow(3),
    scheduled_date: today,
    tags: ['work', 'writing'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(5),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_grocery_list'),
    title: 'Make grocery list for the week',
    description: 'Plan meals and list what we need from the store.',
    status: 'pending',
    energy: 'low',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Check what is in fridge', completed: false },
      { id: 'ms2', text: 'Plan 5 dinners', completed: false },
      { id: 'ms3', text: 'Write list by store section', completed: false },
    ],
    due_date: daysFromNow(1),
    scheduled_date: today,
    tags: ['home', 'weekly'],
    recurring: { frequency: 'weekly', days: [0] },
    completed_at: null,
    created_at: daysAgo(7),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_buy_groceries'),
    title: 'Buy groceries',
    description: 'Head to the store with the list. Stick to the list!',
    status: 'pending',
    energy: 'medium',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Grab reusable bags', completed: false },
      { id: 'ms2', text: 'Drive to store', completed: false },
      { id: 'ms3', text: 'Shop by aisle order', completed: false },
      { id: 'ms4', text: 'Checkout and load car', completed: false },
      { id: 'ms5', text: 'Put groceries away', completed: false },
    ],
    due_date: daysFromNow(2),
    scheduled_date: daysFromNow(1),
    tags: ['home', 'errands'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(1),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_clean_desk'),
    title: 'Clear and organize desk',
    description: 'Remove clutter, file papers, wipe down surfaces.',
    status: 'pending',
    energy: 'low',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Remove everything from desk', completed: false },
      { id: 'ms2', text: 'Wipe surface', completed: false },
      { id: 'ms3', text: 'Put back only essentials', completed: false },
      { id: 'ms4', text: 'File loose papers', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['home', 'organization'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(3),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_read_chapter'),
    title: 'Read one chapter of current book',
    description: 'Continue reading "Driven to Distraction" — chapter 7.',
    status: 'pending',
    energy: 'medium',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Find book and bookmark', completed: false },
      { id: 'ms2', text: 'Set 25 min timer', completed: false },
      { id: 'ms3', text: 'Read until timer or chapter end', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['personal', 'learning'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(10),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_exercise'),
    title: 'Exercise — 30 min workout',
    description: 'Bodyweight workout or yoga session. Anything counts.',
    status: 'pending',
    energy: 'high',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Change into workout clothes', completed: false },
      { id: 'ms2', text: 'Warm up 5 min', completed: false },
      { id: 'ms3', text: 'Main workout 20 min', completed: false },
      { id: 'ms4', text: 'Cool down and stretch', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['health', 'daily'],
    recurring: { frequency: 'daily', time: '17:00' },
    completed_at: null,
    created_at: daysAgo(30),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_call_doctor'),
    title: 'Call doctor to schedule checkup',
    description: 'Annual physical is overdue. Call and book for next month.',
    status: 'pending',
    energy: 'medium',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Look up doctor phone number', completed: false },
      { id: 'ms2', text: 'Call during office hours', completed: false },
      { id: 'ms3', text: 'Book appointment', completed: false },
      { id: 'ms4', text: 'Add to calendar', completed: false },
    ],
    due_date: daysFromNow(5),
    scheduled_date: daysFromNow(1),
    tags: ['health', 'errands'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(14),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_pay_bills'),
    title: 'Pay monthly bills',
    description: 'Electric, internet, phone. Check autopay status.',
    status: 'pending',
    energy: 'low',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Log into bank', completed: false },
      { id: 'ms2', text: 'Check pending bills', completed: false },
      { id: 'ms3', text: 'Pay any due this week', completed: false },
      { id: 'ms4', text: 'Verify autopay settings', completed: false },
    ],
    due_date: daysFromNow(4),
    scheduled_date: daysFromNow(2),
    tags: ['finance', 'monthly'],
    recurring: { frequency: 'monthly' },
    completed_at: null,
    created_at: daysAgo(2),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_laundry'),
    title: 'Do laundry',
    description: 'Wash, dry, fold, put away. The full cycle matters.',
    status: 'pending',
    energy: 'low',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Sort clothes', completed: false },
      { id: 'ms2', text: 'Start washer', completed: false },
      { id: 'ms3', text: 'Move to dryer', completed: false },
      { id: 'ms4', text: 'Fold and put away', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['home', 'chores'],
    recurring: { frequency: 'weekly', days: [3] },
    completed_at: null,
    created_at: daysAgo(7),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_review_budget'),
    title: 'Review monthly budget',
    description: 'Check spending vs budget. Adjust categories if needed.',
    status: 'pending',
    energy: 'medium',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Open budget spreadsheet', completed: false },
      { id: 'ms2', text: 'Categorize recent transactions', completed: false },
      { id: 'ms3', text: 'Check vs targets', completed: false },
      { id: 'ms4', text: 'Adjust next month targets', completed: false },
    ],
    due_date: daysFromNow(7),
    scheduled_date: daysFromNow(3),
    tags: ['finance', 'monthly'],
    recurring: { frequency: 'monthly' },
    completed_at: null,
    created_at: daysAgo(3),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_plan_weekend'),
    title: 'Plan weekend activities',
    description: 'Decide on 1-2 things to look forward to.',
    status: 'pending',
    energy: 'low',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Check weather forecast', completed: false },
      { id: 'ms2', text: 'Pick one outdoor activity', completed: false },
      { id: 'ms3', text: 'Pick one indoor backup', completed: false },
    ],
    due_date: null,
    scheduled_date: daysFromNow(2),
    tags: ['personal', 'weekly'],
    recurring: { frequency: 'weekly', days: [4] },
    completed_at: null,
    created_at: daysAgo(7),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_water_plants'),
    title: 'Water the plants',
    description: 'Check all houseplants. Water if soil is dry.',
    status: 'pending',
    energy: 'low',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Check soil moisture', completed: false },
      { id: 'ms2', text: 'Water dry ones', completed: false },
      { id: 'ms3', text: 'Mist ferns and tropicals', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['home', 'daily'],
    recurring: { frequency: 'daily' },
    completed_at: null,
    created_at: daysAgo(30),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_prep_presentation'),
    title: 'Prepare team presentation',
    description: 'Slides for Thursday standup — project status update.',
    status: 'pending',
    energy: 'high',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Outline key points', completed: false },
      { id: 'ms2', text: 'Create 5-7 slides', completed: false },
      { id: 'ms3', text: 'Add screenshots/demos', completed: false },
      { id: 'ms4', text: 'Practice run-through', completed: false },
    ],
    due_date: daysFromNow(2),
    scheduled_date: daysFromNow(1),
    tags: ['work', 'presentations'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(2),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_dentist_appt'),
    title: 'Schedule dentist appointment',
    description: 'Six-month cleaning is due. Find a time that works.',
    status: 'pending',
    energy: 'low',
    importance: 'someday',
    micro_steps: [
      { id: 'ms1', text: 'Check schedule for openings', completed: false },
      { id: 'ms2', text: 'Call dentist office', completed: false },
      { id: 'ms3', text: 'Book appointment', completed: false },
    ],
    due_date: null,
    scheduled_date: null,
    tags: ['health', 'errands'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(21),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_fix_leaky_faucet'),
    title: 'Fix leaky kitchen faucet',
    description: 'The faucet drips. Might just need a new washer.',
    status: 'pending',
    energy: 'medium',
    importance: 'someday',
    micro_steps: [
      { id: 'ms1', text: 'Watch YouTube repair video', completed: false },
      { id: 'ms2', text: 'Buy replacement washer', completed: false },
      { id: 'ms3', text: 'Turn off water supply', completed: false },
      { id: 'ms4', text: 'Replace washer', completed: false },
      { id: 'ms5', text: 'Test for leaks', completed: false },
    ],
    due_date: null,
    scheduled_date: null,
    tags: ['home', 'maintenance'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(14),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_backup_files'),
    title: 'Back up important files',
    description: 'Sync documents, photos to cloud backup.',
    status: 'pending',
    energy: 'low',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Check what is not backed up', completed: false },
      { id: 'ms2', text: 'Upload to cloud', completed: false },
      { id: 'ms3', text: 'Verify backup', completed: false },
    ],
    due_date: null,
    scheduled_date: daysFromNow(5),
    tags: ['tech', 'monthly'],
    recurring: { frequency: 'monthly' },
    completed_at: null,
    created_at: daysAgo(5),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_journal'),
    title: 'Evening journal — 5 minutes',
    description: 'Write 3 things that went well, 1 thing to improve.',
    status: 'pending',
    energy: 'low',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Open journal', completed: false },
      { id: 'ms2', text: 'Write 3 wins', completed: false },
      { id: 'ms3', text: 'Write 1 improvement', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['personal', 'daily'],
    recurring: { frequency: 'daily', time: '21:00' },
    completed_at: null,
    created_at: daysAgo(30),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_update_resume'),
    title: 'Update resume with recent work',
    description: 'Add last two projects and update skills section.',
    status: 'pending',
    energy: 'high',
    importance: 'someday',
    micro_steps: [
      { id: 'ms1', text: 'Open current resume', completed: false },
      { id: 'ms2', text: 'Add project descriptions', completed: false },
      { id: 'ms3', text: 'Update skills section', completed: false },
      { id: 'ms4', text: 'Proofread', completed: false },
    ],
    due_date: null,
    scheduled_date: null,
    tags: ['career', 'someday'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(30),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_meal_prep'),
    title: 'Meal prep for the week',
    description: 'Cook 3-4 meals ahead. Portion into containers.',
    status: 'pending',
    energy: 'high',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Choose recipes', completed: false },
      { id: 'ms2', text: 'Prep ingredients', completed: false },
      { id: 'ms3', text: 'Cook all meals', completed: false },
      { id: 'ms4', text: 'Portion into containers', completed: false },
      { id: 'ms5', text: 'Label and refrigerate', completed: false },
    ],
    due_date: null,
    scheduled_date: daysFromNow(2),
    tags: ['home', 'health', 'weekly'],
    recurring: { frequency: 'weekly', days: [0] },
    completed_at: null,
    created_at: daysAgo(7),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_reply_friend'),
    title: 'Reply to friend\'s message',
    description: 'Alex texted 3 days ago. Just reply — doesn\'t have to be long.',
    status: 'pending',
    energy: 'low',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Open messages', completed: false },
      { id: 'ms2', text: 'Write a quick response', completed: false },
      { id: 'ms3', text: 'Send it', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['social', 'personal'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(3),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_clean_bathroom'),
    title: 'Clean bathroom',
    description: 'Quick clean — toilet, sink, mirror. 15 minutes max.',
    status: 'pending',
    energy: 'medium',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Spray surfaces', completed: false },
      { id: 'ms2', text: 'Scrub toilet', completed: false },
      { id: 'ms3', text: 'Wipe sink and mirror', completed: false },
      { id: 'ms4', text: 'Mop floor', completed: false },
    ],
    due_date: null,
    scheduled_date: daysFromNow(1),
    tags: ['home', 'chores'],
    recurring: { frequency: 'weekly', days: [6] },
    completed_at: null,
    created_at: daysAgo(7),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_learn_react'),
    title: 'Complete React tutorial section',
    description: 'Continue the online course — finish hooks section.',
    status: 'pending',
    energy: 'high',
    importance: 'someday',
    micro_steps: [
      { id: 'ms1', text: 'Open course platform', completed: false },
      { id: 'ms2', text: 'Watch next video', completed: false },
      { id: 'ms3', text: 'Do the exercise', completed: false },
      { id: 'ms4', text: 'Take notes', completed: false },
    ],
    due_date: null,
    scheduled_date: null,
    tags: ['learning', 'tech'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(21),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_oil_change'),
    title: 'Schedule car oil change',
    description: 'Overdue by 500 miles. Book at the usual shop.',
    status: 'pending',
    energy: 'low',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Call auto shop', completed: false },
      { id: 'ms2', text: 'Book appointment', completed: false },
      { id: 'ms3', text: 'Add to calendar', completed: false },
    ],
    due_date: daysFromNow(7),
    scheduled_date: daysFromNow(3),
    tags: ['errands', 'car'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(5),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_declutter_closet'),
    title: 'Declutter closet',
    description: 'Donate what you haven\'t worn in a year.',
    status: 'pending',
    energy: 'medium',
    importance: 'someday',
    micro_steps: [
      { id: 'ms1', text: 'Pull everything out', completed: false },
      { id: 'ms2', text: 'Sort into keep/donate/trash', completed: false },
      { id: 'ms3', text: 'Bag donations', completed: false },
      { id: 'ms4', text: 'Organize what stays', completed: false },
    ],
    due_date: null,
    scheduled_date: null,
    tags: ['home', 'organization'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(30),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_collect_data'),
    title: 'Collect user feedback data',
    description: 'Pull survey results from last week into spreadsheet.',
    status: 'pending',
    energy: 'medium',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Export survey responses', completed: false },
      { id: 'ms2', text: 'Clean and categorize data', completed: false },
      { id: 'ms3', text: 'Summarize key themes', completed: false },
    ],
    due_date: daysFromNow(4),
    scheduled_date: daysFromNow(2),
    tags: ['work', 'research'],
    recurring: null,
    completed_at: null,
    created_at: daysAgo(1),
    updated_at: today,
  },
  {
    $lds: makeMeta('task_stretch_break'),
    title: 'Afternoon stretch break',
    description: '5-minute stretch. Stand up, move, breathe.',
    status: 'pending',
    energy: 'low',
    importance: 'optional',
    micro_steps: [
      { id: 'ms1', text: 'Stand up from desk', completed: false },
      { id: 'ms2', text: 'Stretch arms and shoulders', completed: false },
      { id: 'ms3', text: 'Touch toes', completed: false },
      { id: 'ms4', text: 'Deep breaths x5', completed: false },
    ],
    due_date: null,
    scheduled_date: today,
    tags: ['health', 'daily'],
    recurring: { frequency: 'daily', time: '14:00' },
    completed_at: null,
    created_at: daysAgo(14),
    updated_at: today,
  },
  // Completed tasks (for history)
  {
    $lds: makeMeta('task_done_walk_1'),
    title: 'Morning walk (15 min)',
    description: 'Walk around the block.',
    status: 'completed',
    energy: 'low',
    importance: 'important',
    micro_steps: [
      { id: 'ms1', text: 'Put on shoes', completed: true },
      { id: 'ms2', text: 'Walk 15 min', completed: true },
    ],
    due_date: null,
    scheduled_date: daysAgo(1),
    tags: ['health', 'daily'],
    recurring: null,
    completed_at: daysAgo(1) + 'T08:15:00Z',
    created_at: daysAgo(1),
    updated_at: daysAgo(1),
  },
  {
    $lds: makeMeta('task_done_meds_1'),
    title: 'Take morning medication',
    description: 'Done.',
    status: 'completed',
    energy: 'low',
    importance: 'important',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(1),
    tags: ['health', 'daily'],
    recurring: null,
    completed_at: daysAgo(1) + 'T07:45:00Z',
    created_at: daysAgo(1),
    updated_at: daysAgo(1),
  },
  {
    $lds: makeMeta('task_done_email_1'),
    title: 'Process inbox to zero',
    description: 'Cleared 23 emails.',
    status: 'completed',
    energy: 'medium',
    importance: 'important',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(1),
    tags: ['work', 'daily'],
    recurring: null,
    completed_at: daysAgo(1) + 'T09:30:00Z',
    created_at: daysAgo(1),
    updated_at: daysAgo(1),
  },
  {
    $lds: makeMeta('task_done_exercise_2'),
    title: 'Exercise — 30 min workout',
    description: 'Yoga session.',
    status: 'completed',
    energy: 'high',
    importance: 'important',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(2),
    tags: ['health', 'daily'],
    recurring: null,
    completed_at: daysAgo(2) + 'T17:30:00Z',
    created_at: daysAgo(2),
    updated_at: daysAgo(2),
  },
  {
    $lds: makeMeta('task_done_meds_2'),
    title: 'Take morning medication',
    description: 'Done.',
    status: 'completed',
    energy: 'low',
    importance: 'important',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(2),
    tags: ['health', 'daily'],
    recurring: null,
    completed_at: daysAgo(2) + 'T08:00:00Z',
    created_at: daysAgo(2),
    updated_at: daysAgo(2),
  },
  {
    $lds: makeMeta('task_done_journal_3'),
    title: 'Evening journal — 5 minutes',
    description: 'Wrote about progress on the project.',
    status: 'completed',
    energy: 'low',
    importance: 'optional',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(3),
    tags: ['personal', 'daily'],
    recurring: null,
    completed_at: daysAgo(3) + 'T21:15:00Z',
    created_at: daysAgo(3),
    updated_at: daysAgo(3),
  },
  {
    $lds: makeMeta('task_done_walk_4'),
    title: 'Morning walk (15 min)',
    description: 'Nice walk, saw a hawk.',
    status: 'completed',
    energy: 'low',
    importance: 'important',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(4),
    tags: ['health', 'daily'],
    recurring: null,
    completed_at: daysAgo(4) + 'T07:50:00Z',
    created_at: daysAgo(4),
    updated_at: daysAgo(4),
  },
  {
    $lds: makeMeta('task_done_laundry_5'),
    title: 'Do laundry',
    description: 'Two loads, all folded.',
    status: 'completed',
    energy: 'low',
    importance: 'important',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(5),
    tags: ['home', 'chores'],
    recurring: null,
    completed_at: daysAgo(5) + 'T11:00:00Z',
    created_at: daysAgo(5),
    updated_at: daysAgo(5),
  },
  {
    $lds: makeMeta('task_done_plants_6'),
    title: 'Water the plants',
    description: 'All watered and misted.',
    status: 'completed',
    energy: 'low',
    importance: 'optional',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(6),
    tags: ['home', 'daily'],
    recurring: null,
    completed_at: daysAgo(6) + 'T08:30:00Z',
    created_at: daysAgo(6),
    updated_at: daysAgo(6),
  },
  {
    $lds: makeMeta('task_done_email_7'),
    title: 'Process inbox to zero',
    description: 'Inbox zero achieved.',
    status: 'completed',
    energy: 'medium',
    importance: 'important',
    micro_steps: [],
    due_date: null,
    scheduled_date: daysAgo(7),
    tags: ['work', 'daily'],
    recurring: null,
    completed_at: daysAgo(7) + 'T09:00:00Z',
    created_at: daysAgo(7),
    updated_at: daysAgo(7),
  },
];

// 10+ graph edges connecting tasks
export const seedEdges: TaskEdge[] = [
  { id: 'edge_1', source: 'task_grocery_list', target: 'task_buy_groceries', type: 'blocks' },
  { id: 'edge_2', source: 'task_buy_groceries', target: 'task_meal_prep', type: 'blocks' },
  { id: 'edge_3', source: 'task_collect_data', target: 'task_project_report', type: 'blocks' },
  { id: 'edge_4', source: 'task_project_report', target: 'task_prep_presentation', type: 'blocks' },
  { id: 'edge_5', source: 'task_morning_meds', target: 'task_morning_walk', type: 'scheduled_after' },
  { id: 'edge_6', source: 'task_morning_walk', target: 'task_check_email', type: 'scheduled_after' },
  { id: 'edge_7', source: 'task_exercise', target: 'task_journal', type: 'scheduled_after' },
  { id: 'edge_8', source: 'task_clean_desk', target: 'task_project_report', type: 'related_to' },
  { id: 'edge_9', source: 'task_call_doctor', target: 'task_dentist_appt', type: 'related_to' },
  { id: 'edge_10', source: 'task_review_budget', target: 'task_pay_bills', type: 'related_to' },
  { id: 'edge_11', source: 'task_read_chapter', target: 'task_learn_react', type: 'related_to' },
  { id: 'edge_12', source: 'task_grocery_list', target: 'task_meal_prep', type: 'part_of' },
  { id: 'edge_13', source: 'task_buy_groceries', target: 'task_meal_prep', type: 'part_of' },
];

// 5 routines
export const seedRoutines: Routine[] = [
  {
    $lds: makeMeta('routine_morning', 'routine'),
    name: 'Morning Startup',
    description: 'Get the day rolling with these basics.',
    time_of_day: 'morning',
    task_ids: ['task_morning_meds', 'task_morning_walk', 'task_check_email'],
    active: true,
  },
  {
    $lds: makeMeta('routine_evening', 'routine'),
    name: 'Evening Wind-Down',
    description: 'Close out the day gently.',
    time_of_day: 'evening',
    task_ids: ['task_exercise', 'task_journal'],
    active: true,
  },
  {
    $lds: makeMeta('routine_weekly_home', 'routine'),
    name: 'Weekly Home Reset',
    description: 'Keep the home manageable.',
    time_of_day: 'anytime',
    task_ids: ['task_laundry', 'task_clean_bathroom', 'task_water_plants'],
    active: true,
  },
  {
    $lds: makeMeta('routine_weekly_planning', 'routine'),
    name: 'Weekly Planning',
    description: 'Plan the week ahead.',
    time_of_day: 'morning',
    task_ids: ['task_grocery_list', 'task_plan_weekend', 'task_review_budget'],
    active: true,
  },
  {
    $lds: makeMeta('routine_work_focus', 'routine'),
    name: 'Deep Work Block',
    description: 'High-energy focused work time.',
    time_of_day: 'morning',
    task_ids: ['task_project_report', 'task_prep_presentation', 'task_collect_data'],
    active: true,
  },
];

// Seed audit entries for history
export const seedAuditLog: AuditEntry[] = [
  ...seedTasks
    .filter((t) => t.status === 'completed')
    .map((t) => ({
      id: `audit_${t.$lds.id}`,
      timestamp: t.completed_at!,
      action: 'task_completed' as const,
      entity_type: 'task' as const,
      entity_id: t.$lds.id,
      details: { title: t.title },
    })),
];

export const defaultPreferences: UserPreferences = {
  theme: 'calm',
  default_view: 'list',
  max_visible_tasks: 5,
  audio_enabled: true,
  notifications_enabled: false,
  ai_api_key: null,
  ai_provider: 'groq',
};
